document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".menu-toggle"),e=document.querySelector(".nav-menu");t&&e&&(t.addEventListener("click",function(){e.classList.toggle("active")}),document.querySelectorAll(".nav-menu a").forEach(t=>{t.addEventListener("click",function(){e.classList.remove("active")})}),document.addEventListener("click",function(n){!e.contains(n.target)&&!t.contains(n.target)&&e.classList.remove("active")}));const n=document.querySelectorAll(".fade-in");if(n.length>0){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.2});n.forEach(t=>e.observe(t))}const s=document.getElementById("contactForm");s&&s.addEventListener("submit",async function(e){e.preventDefault();const t={name:this.name.value,phone:this.phone.value,time:this.time.value,place:this.place.value,message:this.message.value};try{const e=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){this.style.display="none";const e=document.createElement("div");e.innerHTML=`
            <h3>Your message has been received.</h3>
            <p>In Dishank, nothing is automated — every conversation is personal.</p>
            <p>Dishank will respond to you soon.</p>

            <p>Until then — explore Odisha. Explore quietly.</p>
          `,this.parentNode.appendChild(e),setTimeout(()=>{window.location.href="/"},9e3)}}catch{alert("Something went wrong. Please try again.")}})}),document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("language-overlay"),n=document.querySelectorAll(".lang-message"),o=document.querySelector(".lang-arrow.left"),i=document.querySelector(".lang-arrow.right");let e=0;function s(e){n.forEach((t,n)=>{t.classList.toggle("active",n===e)})}i.addEventListener("click",function(t){t.stopPropagation(),e=(e+1)%n.length,s(e)}),o.addEventListener("click",function(t){t.stopPropagation(),e=(e-1+n.length)%n.length,s(e)}),t.addEventListener("click",function(){t.classList.add("hidden")}),localStorage.getItem("langPopupShown")&&t.classList.add("hidden"),t.addEventListener("click",function(){t.classList.add("hidden"),localStorage.setItem("langPopupShown","true")})})